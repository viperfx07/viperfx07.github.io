!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d,e,f,g,h,i,j=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},k={}.hasOwnProperty;i=a("./node"),g=i.Position,d=function(){function a(a){this.tree_widget=a,this.hovered_area=null,this.$ghost=null,this.hit_areas=[],this.is_dragging=!1,this.current_item=null}return a.prototype.mouseCapture=function(a){var b,c;return b=$(a.target),this.mustCaptureElement(b)?this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(b)?null:(c=this.tree_widget._getNodeElement(b),c&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(c.node)||(c=null)),this.current_item=c,null!==this.current_item):null},a.prototype.mouseStart=function(a){var b;return this.refresh(),b=$(a.target).offset(),this.drag_element=new e(this.current_item.node,a.page_x-b.left,a.page_y-b.top,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},a.prototype.mouseDrag=function(a){var b,c;return this.drag_element.move(a.page_x,a.page_y),b=this.findHoveredArea(a.page_x,a.page_y),c=this.canMoveToArea(b),c&&b?(b.node.isFolder()||this.stopOpenFolderTimer(),this.hovered_area!==b&&(this.hovered_area=b,this.mustOpenFolderTimer(b)?this.startOpenFolderTimer(b.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),!0},a.prototype.mustCaptureElement=function(a){return!a.is("input,select")},a.prototype.canMoveToArea=function(a){var b;return a?this.tree_widget.options.onCanMoveTo?(b=g.getName(a.position),this.tree_widget.options.onCanMoveTo(this.current_item.node,a.node,b)):!0:!1},a.prototype.mouseStop=function(a){return this.moveItem(a),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas(),this.current_item&&(this.current_item.$element.removeClass("jqtree-moving"),this.current_item=null),this.is_dragging=!1,!1},a.prototype.refresh=function(){return this.removeHitAreas(),this.current_item&&(this.generateHitAreas(),this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node),this.is_dragging)?this.current_item.$element.addClass("jqtree-moving"):void 0},a.prototype.removeHitAreas=function(){return this.hit_areas=[]},a.prototype.clear=function(){return this.drag_element.remove(),this.drag_element=null},a.prototype.removeDropHint=function(){return this.previous_ghost?this.previous_ghost.remove():void 0},a.prototype.removeHover=function(){return this.hovered_area=null},a.prototype.generateHitAreas=function(){var a;return a=new f(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom),this.hit_areas=a.generate()},a.prototype.findHoveredArea=function(a,b){var c,d,e,f,g;if(d=this.getTreeDimensions(),a<d.left||b<d.top||a>d.right||b>d.bottom)return null;for(f=0,e=this.hit_areas.length;e>f;)if(g=f+e>>1,c=this.hit_areas[g],b<c.top)e=g;else{if(!(b>c.bottom))return c;f=g+1}return null},a.prototype.mustOpenFolderTimer=function(a){var b;return b=a.node,b.isFolder()&&!b.is_open&&a.position===g.INSIDE},a.prototype.updateDropHint=function(){var a;if(this.hovered_area)return this.removeDropHint(),a=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=a.addDropHint(this.hovered_area.position)},a.prototype.startOpenFolderTimer=function(a){var b;return b=function(b){return function(){return b.tree_widget._openNode(a,b.tree_widget.options.slide,function(){return b.refresh(),b.updateDropHint()})}}(this),this.stopOpenFolderTimer(),this.open_folder_timer=setTimeout(b,this.tree_widget.options.openFolderDelay)},a.prototype.stopOpenFolderTimer=function(){return this.open_folder_timer?(clearTimeout(this.open_folder_timer),this.open_folder_timer=null):void 0},a.prototype.moveItem=function(a){var b,c,d,e,f,h;return this.hovered_area&&this.hovered_area.position!==g.NONE&&this.canMoveToArea(this.hovered_area)&&(d=this.current_item.node,h=this.hovered_area.node,e=this.hovered_area.position,f=d.parent,e===g.INSIDE&&(this.hovered_area.node.is_open=!0),b=function(a){return function(){return a.tree_widget.tree.moveNode(d,h,e),a.tree_widget.element.empty(),a.tree_widget._refreshElements()}}(this),c=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:d,target_node:h,position:g.getName(e),previous_parent:f,do_move:b,original_event:a.original_event}}),!c.isDefaultPrevented())?b():void 0},a.prototype.getTreeDimensions=function(){var a;return a=this.tree_widget.element.offset(),{left:a.left,top:a.top,right:a.left+this.tree_widget.element.width(),bottom:a.top+this.tree_widget.element.height()+16}},a}(),h=function(){function a(a){this.tree=a}return a.prototype.iterate=function(){var a,b;return b=!0,(a=function(c){return function(d,e){var f,g,h,i,j,k,l,m;if(l=(d.is_open||!d.element)&&d.hasChildren(),d.element){if(f=$(d.element),!f.is(":visible"))return;b&&(c.handleFirstNode(d,f),b=!1),d.hasChildren()?d.is_open?c.handleOpenFolder(d,f)||(l=!1):c.handleClosedFolder(d,e,f):c.handleNode(d,e,f)}if(l){for(h=d.children.length,m=d.children,i=j=0,k=m.length;k>j;i=++j)g=m[i],i===h-1?a(d.children[i],null):a(d.children[i],d.children[i+1]);if(d.is_open)return c.handleAfterOpenFolder(d,e,f)}}}(this))(this.tree,null)},a.prototype.handleNode=function(a,b,c){},a.prototype.handleOpenFolder=function(a,b){},a.prototype.handleClosedFolder=function(a,b,c){},a.prototype.handleAfterOpenFolder=function(a,b,c){},a.prototype.handleFirstNode=function(a,b){},a}(),f=function(a){function b(a,c,d){b.__super__.constructor.call(this,a),this.current_node=c,this.tree_bottom=d}return j(b,a),b.prototype.generate=function(){return this.positions=[],this.last_top=0,this.iterate(),this.generateHitAreas(this.positions)},b.prototype.getTop=function(a){return a.offset().top},b.prototype.addPosition=function(a,b,c){var d;return d={top:c,node:a,position:b},this.positions.push(d),this.last_top=c},b.prototype.handleNode=function(a,b,c){var d;return d=this.getTop(c),a===this.current_node?this.addPosition(a,g.NONE,d):this.addPosition(a,g.INSIDE,d),b===this.current_node||a===this.current_node?this.addPosition(a,g.NONE,d):this.addPosition(a,g.AFTER,d)},b.prototype.handleOpenFolder=function(a,b){return a===this.current_node?!1:(a.children[0]!==this.current_node&&this.addPosition(a,g.INSIDE,this.getTop(b)),!0)},b.prototype.handleClosedFolder=function(a,b,c){var d;return d=this.getTop(c),a===this.current_node?this.addPosition(a,g.NONE,d):(this.addPosition(a,g.INSIDE,d),b!==this.current_node?this.addPosition(a,g.AFTER,d):void 0)},b.prototype.handleFirstNode=function(a,b){return a!==this.current_node?this.addPosition(a,g.BEFORE,this.getTop($(a.element))):void 0},b.prototype.handleAfterOpenFolder=function(a,b,c){return a===this.current_node.node||b===this.current_node.node?this.addPosition(a,g.NONE,this.last_top):this.addPosition(a,g.AFTER,this.last_top)},b.prototype.generateHitAreas=function(a){var b,c,d,e,f,g;for(g=-1,b=[],c=[],d=0,e=a.length;e>d;d++)f=a[d],f.top!==g&&b.length&&(b.length&&this.generateHitAreasForGroup(c,b,g,f.top),g=f.top,b=[]),b.push(f);return this.generateHitAreasForGroup(c,b,g,this.tree_bottom),c},b.prototype.generateHitAreasForGroup=function(a,b,c,d){var e,f,g,h,i;for(i=Math.min(b.length,4),e=Math.round((d-c)/i),f=c,g=0;i>g;)h=b[g],a.push({top:f,bottom:f+e,node:h.node,position:h.position}),f+=e,g+=1;return null},b}(h),e=function(){function a(a,b,c,d){this.offset_x=b,this.offset_y=c,this.$element=$('<span class="jqtree-title jqtree-dragging">'+a.name+"</span>"),this.$element.css("position","absolute"),d.append(this.$element)}return a.prototype.move=function(a,b){return this.$element.offset({left:a-this.offset_x,top:b-this.offset_y})},a.prototype.remove=function(){return this.$element.remove()},a}(),b.exports=d},{"./node":5}],2:[function(a,b,c){var d,e,f,g,h;g=a("./node_element"),e=g.NodeElement,h=a("./util"),f=h.html_escape,d=function(){function a(a){this.tree_widget=a,this.opened_icon_element=this.createButtonElement(a.options.openedIcon),this.closed_icon_element=this.createButtonElement(a.options.closedIcon)}return a.prototype.render=function(a){return a&&a.parent?this.renderFromNode(a):this.renderFromRoot()},a.prototype.renderFromRoot=function(){var a;return a=this.tree_widget.element,a.empty(),this.createDomElements(a[0],this.tree_widget.tree.children,!0,!0)},a.prototype.renderFromNode=function(a){var b,c;return b=$(a.element),c=this.createLi(a),this.attachNodeData(a,c),b.after(c),b.remove(),a.children?this.createDomElements(c,a.children,!1,!1):void 0},a.prototype.createDomElements=function(a,b,c,d){var e,f,g,h,i;for(i=this.createUl(c),a.appendChild(i),f=0,g=b.length;g>f;f++)e=b[f],h=this.createLi(e),i.appendChild(h),this.attachNodeData(e,h),e.hasChildren()&&this.createDomElements(h,e.children,!1,e.is_open);return null},a.prototype.attachNodeData=function(a,b){return a.element=b,$(b).data("node",a)},a.prototype.createUl=function(a){var b,c;return b=a?"jqtree-tree":"",c=document.createElement("ul"),c.className="jqtree_common "+b,c},a.prototype.createLi=function(a){var b;return b=a.isFolder()?this.createFolderLi(a):this.createNodeLi(a),this.tree_widget.options.onCreateLi&&this.tree_widget.options.onCreateLi(a,$(b)),b},a.prototype.createFolderLi=function(a){var b,c,d,e,f,g,h,i;return b=this.getButtonClasses(a),f=this.getFolderClasses(a),e=this.escapeIfNecessary(a.name),g=a.is_open?this.opened_icon_element:this.closed_icon_element,h=document.createElement("li"),h.className="jqtree_common "+f,d=document.createElement("div"),d.className="jqtree-element jqtree_common",h.appendChild(d),c=document.createElement("a"),c.className="jqtree_common "+b,c.appendChild(g.cloneNode(!1)),d.appendChild(c),i=document.createElement("span"),i.className="jqtree_common jqtree-title jqtree-title-folder",d.appendChild(i),i.innerHTML=e,h},a.prototype.createNodeLi=function(a){var b,c,d,e,f,g;return f=["jqtree_common"],this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(a)&&f.push("jqtree-selected"),b=f.join(" "),d=this.escapeIfNecessary(a.name),e=document.createElement("li"),e.className=b,c=document.createElement("div"),c.className="jqtree-element jqtree_common",e.appendChild(c),g=document.createElement("span"),g.className="jqtree-title jqtree_common",g.innerHTML=d,c.appendChild(g),e},a.prototype.getButtonClasses=function(a){var b;return b=["jqtree-toggler"],a.is_open||b.push("jqtree-closed"),b.join(" ")},a.prototype.getFolderClasses=function(a){var b;return b=["jqtree-folder"],a.is_open||b.push("jqtree-closed"),this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(a)&&b.push("jqtree-selected"),a.is_loading&&b.push("jqtree-loading"),b.join(" ")},a.prototype.escapeIfNecessary=function(a){return this.tree_widget.options.autoEscape?f(a):a},a.prototype.createButtonElement=function(a){var b;return"string"==typeof a?(b=document.createElement("div"),b.innerHTML=a,document.createTextNode(b.innerHTML)):$(a)[0]},a}(),b.exports=d},{"./node_element":6,"./util":12}],3:[function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(a){this.selectNode=e(this.selectNode,this),this.tree_widget=a,a.options.keyboardSupport&&$(document).bind("keydown.jqtree",$.proxy(this.handleKeyDown,this))}var b,c,d,f;return c=37,f=38,d=39,b=40,a.prototype.deinit=function(){return $(document).unbind("keydown.jqtree")},a.prototype.moveDown=function(){var a;return a=this.tree_widget.getSelectedNode(),a?this.selectNode(a.getNextNode()):!1},a.prototype.moveUp=function(){var a;return a=this.tree_widget.getSelectedNode(),a?this.selectNode(a.getPreviousNode()):!1},a.prototype.moveRight=function(){var a;return a=this.tree_widget.getSelectedNode(),a&&a.isFolder()&&!a.is_open?(this.tree_widget.openNode(a),!1):!0},a.prototype.moveLeft=function(){var a;return a=this.tree_widget.getSelectedNode(),a&&a.isFolder()&&a.is_open?(this.tree_widget.closeNode(a),!1):!0},a.prototype.handleKeyDown=function(a){var e;if(!this.tree_widget.options.keyboardSupport)return!0;if($(document.activeElement).is("textarea,input,select"))return!0;if(!this.tree_widget.getSelectedNode())return!0;switch(e=a.which){case b:return this.moveDown();case f:return this.moveUp();case d:return this.moveRight();case c:return this.moveLeft()}return!0},a.prototype.selectNode=function(a){return a?(this.tree_widget.selectNode(a),this.tree_widget.scroll_handler&&!this.tree_widget.scroll_handler.isScrolledIntoView($(a.element).find(".jqtree-element"))&&this.tree_widget.scrollToNode(a),!1):!0},a}(),b.exports=d},{}],4:[function(a,b,c){var d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("./simple.widget"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.is_mouse_handled=!1,b.prototype._init=function(){return this.$el.bind("mousedown.mousewidget",$.proxy(this._mouseDown,this)),this.$el.bind("touchstart.mousewidget",$.proxy(this._touchStart,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0,this.mouse_down_info=null},b.prototype._deinit=function(){var a;return this.$el.unbind("mousedown.mousewidget"),this.$el.unbind("touchstart.mousewidget"),a=$(document),a.unbind("mousemove.mousewidget"),a.unbind("mouseup.mousewidget")},b.prototype._mouseDown=function(a){var b;if(1===a.which)return b=this._handleMouseDown(a,this._getPositionInfo(a)),b&&a.preventDefault(),b},b.prototype._handleMouseDown=function(a,c){return!b.is_mouse_handled&&(this.is_mouse_started&&this._handleMouseUp(c),this.mouse_down_info=c,this._mouseCapture(c))?(this._handleStartMouse(),this.is_mouse_handled=!0,!0):void 0},b.prototype._handleStartMouse=function(){var a;return a=$(document),a.bind("mousemove.mousewidget",$.proxy(this._mouseMove,this)),a.bind("touchmove.mousewidget",$.proxy(this._touchMove,this)),a.bind("mouseup.mousewidget",$.proxy(this._mouseUp,this)),a.bind("touchend.mousewidget",$.proxy(this._touchEnd,this)),this.mouse_delay?this._startMouseDelayTimer():void 0},b.prototype._startMouseDelayTimer=function(){return this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout(function(a){return function(){return a._is_mouse_delay_met=!0}}(this),this.mouse_delay),this._is_mouse_delay_met=!1},b.prototype._mouseMove=function(a){return this._handleMouseMove(a,this._getPositionInfo(a))},b.prototype._handleMouseMove=function(a,b){return this.is_mouse_started?(this._mouseDrag(b),a.preventDefault()):this.mouse_delay&&!this._is_mouse_delay_met?!0:(this.is_mouse_started=this._mouseStart(this.mouse_down_info)!==!1,this.is_mouse_started?this._mouseDrag(b):this._handleMouseUp(b),!this.is_mouse_started)},b.prototype._getPositionInfo=function(a){return{page_x:a.pageX,page_y:a.pageY,target:a.target,original_event:a}},b.prototype._mouseUp=function(a){return this._handleMouseUp(this._getPositionInfo(a))},b.prototype._handleMouseUp=function(a){var b;b=$(document),b.unbind("mousemove.mousewidget"),b.unbind("touchmove.mousewidget"),b.unbind("mouseup.mousewidget"),b.unbind("touchend.mousewidget"),this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(a))},b.prototype._mouseCapture=function(a){return!0},b.prototype._mouseStart=function(a){return null},b.prototype._mouseDrag=function(a){return null},b.prototype._mouseStop=function(a){return null},b.prototype.setMouseDelay=function(a){return this.mouse_delay=a},b.prototype._touchStart=function(a){var b;if(!(a.originalEvent.touches.length>1))return b=a.originalEvent.changedTouches[0],this._handleMouseDown(a,this._getPositionInfo(b))},b.prototype._touchMove=function(a){var b;if(!(a.originalEvent.touches.length>1))return b=a.originalEvent.changedTouches[0],this._handleMouseMove(a,this._getPositionInfo(b))},b.prototype._touchEnd=function(a){var b;if(!(a.originalEvent.touches.length>1))return b=a.originalEvent.changedTouches[0],this._handleMouseUp(this._getPositionInfo(b))},b}(e),b.exports=d},{"./simple.widget":10}],5:[function(a,b,c){var d,e;e={getName:function(a){return e.strings[a-1]},nameToIndex:function(a){var b,c,d;for(b=c=1,d=e.strings.length;d>=1?d>=c:c>=d;b=d>=1?++c:--c)if(e.strings[b-1]===a)return b;return 0}},e.BEFORE=1,e.AFTER=2,e.INSIDE=3,e.NONE=4,e.strings=["before","after","inside","none"],d=function(){function a(b,c,d){null==c&&(c=!1),null==d&&(d=a),this.setData(b),this.children=[],this.parent=null,c&&(this.id_mapping={},this.tree=this,this.node_class=d)}return a.prototype.setData=function(a){var b,c;if("object"!=typeof a)this.name=a;else for(b in a)c=a[b],"label"===b?this.name=c:this[b]=c;return null},a.prototype.initFromData=function(a){var b,c;return c=function(a){return function(c){return a.setData(c),c.children?b(c.children):void 0}}(this),b=function(a){return function(b){var c,d,e,f;for(d=0,e=b.length;e>d;d++)c=b[d],f=new a.tree.node_class(""),f.initFromData(c),a.addChild(f);return null}}(this),c(a),null},a.prototype.loadFromData=function(a){var b,c,d,e;for(this.removeChildren(),b=0,c=a.length;c>b;b++)e=a[b],d=new this.tree.node_class(e),this.addChild(d),"object"==typeof e&&e.children&&d.loadFromData(e.children);return null},a.prototype.addChild=function(a){return this.children.push(a),a._setParent(this)},a.prototype.addChildAtPosition=function(a,b){return this.children.splice(b,0,a),a._setParent(this)},a.prototype._setParent=function(a){return this.parent=a,this.tree=a.tree,this.tree.addNodeToIndex(this)},a.prototype.removeChild=function(a){return a.removeChildren(),this._removeChild(a)},a.prototype._removeChild=function(a){return this.children.splice(this.getChildIndex(a),1),this.tree.removeNodeFromIndex(a)},a.prototype.getChildIndex=function(a){return $.inArray(a,this.children)},a.prototype.hasChildren=function(){return 0!==this.children.length},a.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},a.prototype.iterate=function(a){var b;return b=function(c,d){var e,f,g,h,i;if(c.children){for(h=c.children,f=0,g=h.length;g>f;f++)e=h[f],i=a(e,d),i&&e.hasChildren()&&b(e,d+1);return null}},b(this,0),null},a.prototype.moveNode=function(a,b,c){return a.isParentOf(b)?void 0:(a.parent._removeChild(a),c===e.AFTER?b.parent.addChildAtPosition(a,b.parent.getChildIndex(b)+1):c===e.BEFORE?b.parent.addChildAtPosition(a,b.parent.getChildIndex(b)):c===e.INSIDE?b.addChildAtPosition(a,0):void 0)},a.prototype.getData=function(){var a;return(a=function(b){return function(b){var c,d,e,f,g,h,i;for(c=[],d=0,f=b.length;f>d;d++){g=b[d],h={};for(e in g)i=g[e],"parent"!==e&&"children"!==e&&"element"!==e&&"tree"!==e&&Object.prototype.hasOwnProperty.call(g,e)&&(h[e]=i);g.hasChildren()&&(h.children=a(g.children)),c.push(h)}return c}}(this))(this.children)},a.prototype.getNodeByName=function(a){var b;return b=null,this.iterate(function(c){return c.name===a?(b=c,!1):!0}),b},a.prototype.addAfter=function(a){var b,c;return this.parent?(c=new this.tree.node_class(a),b=this.parent.getChildIndex(this),this.parent.addChildAtPosition(c,b+1),c):null},a.prototype.addBefore=function(a){var b,c;return this.parent?(c=new this.tree.node_class(a),b=this.parent.getChildIndex(this),this.parent.addChildAtPosition(c,b),c):null},a.prototype.addParent=function(a){var b,c,d,e,f,g;if(this.parent){for(e=new this.tree.node_class(a),e._setParent(this.tree),f=this.parent,g=f.children,c=0,d=g.length;d>c;c++)b=g[c],e.addChild(b);return f.children=[],f.addChild(e),e}return null},a.prototype.remove=function(){return this.parent?(this.parent.removeChild(this),this.parent=null):void 0},a.prototype.append=function(a){var b;return b=new this.tree.node_class(a),this.addChild(b),b},a.prototype.prepend=function(a){var b;return b=new this.tree.node_class(a),this.addChildAtPosition(b,0),b},a.prototype.isParentOf=function(a){var b;for(b=a.parent;b;){if(b===this)return!0;b=b.parent}return!1},a.prototype.getLevel=function(){var a,b;for(a=0,b=this;b.parent;)a+=1,b=b.parent;return a},a.prototype.getNodeById=function(a){return this.id_mapping[a]},a.prototype.addNodeToIndex=function(a){return null!=a.id?this.id_mapping[a.id]=a:void 0},a.prototype.removeNodeFromIndex=function(a){return null!=a.id?delete this.id_mapping[a.id]:void 0},a.prototype.removeChildren=function(){return this.iterate(function(a){return function(b){return a.tree.removeNodeFromIndex(b),!0}}(this)),this.children=[]},a.prototype.getPreviousSibling=function(){var a;return this.parent?(a=this.parent.getChildIndex(this)-1,a>=0?this.parent.children[a]:null):null},a.prototype.getNextSibling=function(){var a;return this.parent?(a=this.parent.getChildIndex(this)+1,a<this.parent.children.length?this.parent.children[a]:null):null},a.prototype.getNodesByProperty=function(a,b){return this.filter(function(c){return c[a]===b})},a.prototype.filter=function(a){var b;return b=[],this.iterate(function(c){return a(c)&&b.push(c),!0}),b},a.prototype.getNextNode=function(a){var b;return null==a&&(a=!0),a&&this.hasChildren()&&this.is_open?this.children[0]:this.parent?(b=this.getNextSibling(),b?b:this.parent.getNextNode(!1)):null},a.prototype.getPreviousNode=function(){var a;return this.parent?(a=this.getPreviousSibling(),a?a.hasChildren()&&a.is_open?a.getLastChild():a:this.parent.parent?this.parent:null):null},a.prototype.getLastChild=function(){var a;return this.hasChildren()?(a=this.children[this.children.length-1],a.hasChildren()&&a.is_open?a.getLastChild():a):null},a}(),b.exports={Node:d,Position:e}},{}],6:[function(a,b,c){var d,e,f,g,h,i,j=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},k={}.hasOwnProperty;i=a("./node"),h=i.Position,g=function(){function a(a,b){this.init(a,b)}return a.prototype.init=function(a,b){return this.node=a,this.tree_widget=b,a.element||(a.element=this.tree_widget.element),this.$element=$(a.element)},a.prototype.getUl=function(){return this.$element.children("ul:first")},a.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")},a.prototype.getLi=function(){return this.$element},a.prototype.addDropHint=function(a){return a===h.INSIDE?new d(this.$element):new f(this.node,this.$element,a)},a.prototype.select=function(){return this.getLi().addClass("jqtree-selected")},a.prototype.deselect=function(){return this.getLi().removeClass("jqtree-selected")},a}(),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.open=function(a,b){var c,d;return null==b&&(b=!0),this.node.is_open?void 0:(this.node.is_open=!0,c=this.getButton(),c.removeClass("jqtree-closed"),c.html(""),c.append(this.tree_widget.renderer.opened_icon_element.cloneNode(!1)),d=function(b){return function(){return b.getLi().removeClass("jqtree-closed"),a&&a(),b.tree_widget._triggerEvent("tree.open",{node:b.node})}}(this),b?this.getUl().slideDown("fast",d):(this.getUl().show(),d()))},b.prototype.close=function(a){var b,c;return null==a&&(a=!0),this.node.is_open?(this.node.is_open=!1,b=this.getButton(),b.addClass("jqtree-closed"),b.html(""),b.append(this.tree_widget.renderer.closed_icon_element.cloneNode(!1)),c=function(a){return function(){return a.getLi().addClass("jqtree-closed"),a.tree_widget._triggerEvent("tree.close",{node:a.node})}}(this),a?this.getUl().slideUp("fast",c):(this.getUl().hide(),c())):void 0},b.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},b.prototype.addDropHint=function(a){return this.node.is_open||a!==h.INSIDE?new f(this.node,this.$element,a):new d(this.$element)},b}(g),d=function(){function a(a){var b,c;b=a.children(".jqtree-element"),c=a.width()-4,this.$hint=$('<span class="jqtree-border"></span>'),b.append(this.$hint),this.$hint.css({width:c,height:b.outerHeight()-4})}return a.prototype.remove=function(){return this.$hint.remove()},a}(),f=function(){function a(a,b,c){this.$element=b,this.node=a,this.$ghost=$('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span><span class="jqtree_common jqtree-line"></span></li>'),c===h.AFTER?this.moveAfter():c===h.BEFORE?this.moveBefore():c===h.INSIDE&&(a.isFolder()&&a.is_open?this.moveInsideOpenFolder():this.moveInside())}return a.prototype.remove=function(){return this.$ghost.remove()},a.prototype.moveAfter=function(){return this.$element.after(this.$ghost)},a.prototype.moveBefore=function(){return this.$element.before(this.$ghost)},a.prototype.moveInsideOpenFolder=function(){return $(this.node.children[0].element).before(this.$ghost)},a.prototype.moveInside=function(){return this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},a}(),b.exports={FolderElement:e,NodeElement:g}},{"./node":5}],7:[function(a,b,c){var d,e,f,g;g=a("./util"),e=g.indexOf,f=g.isInt,d=function(){function a(a){this.tree_widget=a}return a.prototype.saveState=function(){var a;return a=JSON.stringify(this.getState()),this.tree_widget.options.onSetStateFromStorage?this.tree_widget.options.onSetStateFromStorage(a):this.supportsLocalStorage()?localStorage.setItem(this.getCookieName(),a):$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName(),a,{path:"/"})):void 0},a.prototype.getStateFromStorage=function(){var a;return a=this._loadFromStorage(),a?this._parseState(a):null},a.prototype._parseState=function(a){var b;return b=$.parseJSON(a),b&&b.selected_node&&f(b.selected_node)&&(b.selected_node=[b.selected_node]),b},a.prototype._loadFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName())):null},a.prototype.getState=function(){var a,b;return a=function(a){return function(){var b;return b=[],a.tree_widget.tree.iterate(function(a){return a.is_open&&a.id&&a.hasChildren()&&b.push(a.id),!0}),b}}(this),b=function(a){return function(){var b;return function(){var a,c,d,e;for(d=this.tree_widget.getSelectedNodes(),e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b.id);return e}.call(a)}}(this),{open_nodes:a(),selected_node:b()}},a.prototype.setInitialState=function(a){var b;return a?(b=this._openInitialNodes(a.open_nodes),this._selectInitialNodes(a.selected_node),b):!1},a.prototype._openInitialNodes=function(a){var b,c,d,e,f;for(d=!1,b=0,c=a.length;c>b;b++)f=a[b],e=this.tree_widget.getNodeById(f),e&&(e.load_on_demand?d=!0:e.is_open=!0);return d},a.prototype._selectInitialNodes=function(a){var b,c,d,e,f;for(f=0,b=0,c=a.length;c>b;b++)e=a[b],d=this.tree_widget.getNodeById(e),d&&(f+=1,this.tree_widget.select_node_handler.addToSelection(d));return 0!==f},a.prototype.setInitialStateOnDemand=function(a){return a?this._setInitialStateOnDemand(a.open_nodes,a.selected_node):void 0},a.prototype._setInitialStateOnDemand=function(a,b){var c,d;return d=function(d){return function(){var e,f,g,h,i;for(g=[],e=0,f=a.length;f>e;e++)i=a[e],h=d.tree_widget.getNodeById(i),h?h.is_loading||(h.load_on_demand?c(h):d.tree_widget._openNode(h,!1)):g.push(i);return a=g,d._selectInitialNodes(b)?d.tree_widget._refreshElements():void 0}}(this),c=function(a){return function(b){return a.tree_widget._openNode(b,!1,d)}}(this),d()},a.prototype.getCookieName=function(){return"string"==typeof this.tree_widget.options.saveState?this.tree_widget.options.saveState:"tree"},a.prototype.supportsLocalStorage=function(){var a;return a=function(){var a,b;if("undefined"==typeof localStorage||null===localStorage)return!1;try{b="_storage_test",sessionStorage.setItem(b,!0),sessionStorage.removeItem(b)}catch(c){return a=c,!1}return!0},null==this._supportsLocalStorage&&(this._supportsLocalStorage=a()),this._supportsLocalStorage},a.prototype.getNodeIdToBeSelected=function(){var a;return a=this.getStateFromStorage(),a&&a.selected_node?a.selected_node[0]:null},a}(),b.exports=d},{"./util":12}],8:[function(a,b,c){var d;d=function(){function a(a){this.tree_widget=a,this.previous_top=-1,this._initScrollParent()}return a.prototype._initScrollParent=function(){var a,b,c;return b=function(a){return function(){var b,c,d,e,f,g;if(b=["overflow","overflow-y"],(d=function(a){var c,d,e,f;for(d=0,e=b.length;e>d;d++)if(c=b[d],"auto"===(f=$.css(a,c))||"scroll"===f)return!0;return!1})(a.tree_widget.$el[0]))return a.tree_widget.$el;for(g=a.tree_widget.$el.parents(),e=0,f=g.length;f>e;e++)if(c=g[e],d(c))return $(c);return null}}(this),c=function(a){return function(){return a.scroll_parent_top=0,a.$scroll_parent=null}}(this),"fixed"===this.tree_widget.$el.css("position")&&c(),a=b(),a&&a.length&&"HTML"!==a[0].tagName?(this.$scroll_parent=a,this.scroll_parent_top=this.$scroll_parent.offset().top):c()},a.prototype.checkScrolling=function(){var a;return a=this.tree_widget.dnd_handler.hovered_area,a&&a.top!==this.previous_top?(this.previous_top=a.top,this.$scroll_parent?this._handleScrollingWithScrollParent(a):this._handleScrollingWithDocument(a)):void 0},a.prototype._handleScrollingWithScrollParent=function(a){var b;return b=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-a.bottom,20>b?(this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):a.top-this.scroll_parent_top<20?(this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):void 0},a.prototype._handleScrollingWithDocument=function(a){var b;return b=a.top-$(document).scrollTop(),20>b?$(document).scrollTop($(document).scrollTop()-20):$(window).height()-(a.bottom-$(document).scrollTop())<20?$(document).scrollTop($(document).scrollTop()+20):void 0},a.prototype.scrollTo=function(a){var b;return this.$scroll_parent?this.$scroll_parent[0].scrollTop=a:(b=this.tree_widget.$el.offset().top,$(document).scrollTop(a+b))},a.prototype.isScrolledIntoView=function(a){var b,c,d,e,f;return b=$(a),this.$scroll_parent?(f=0,e=this.$scroll_parent.height(),d=b.offset().top-this.scroll_parent_top,c=d+b.height()):(f=$(window).scrollTop(),e=f+$(window).height(),d=b.offset().top,c=d+b.height()),e>=c&&d>=f},a}(),b.exports=d},{}],9:[function(a,b,c){var d;d=function(){function a(a){this.tree_widget=a,this.clear()}return a.prototype.getSelectedNode=function(){var a;return a=this.getSelectedNodes(),a.length?a[0]:!1},a.prototype.getSelectedNodes=function(){var a,b,c;if(this.selected_single_node)return[this.selected_single_node];c=[];for(a in this.selected_nodes)b=this.tree_widget.getNodeById(a),b&&c.push(b);return c},a.prototype.getSelectedNodesUnder=function(a){var b,c,d;if(this.selected_single_node)return a.isParentOf(this.selected_single_node)?[this.selected_single_node]:[];d=[];for(b in this.selected_nodes)c=this.tree_widget.getNodeById(b),c&&a.isParentOf(c)&&d.push(c);return d},a.prototype.isNodeSelected=function(a){return a.id?this.selected_nodes[a.id]:this.selected_single_node?this.selected_single_node.element===a.element:!1},a.prototype.clear=function(){return this.selected_nodes={},this.selected_single_node=null},a.prototype.removeFromSelection=function(a,b){if(null==b&&(b=!1),a.id){if(delete this.selected_nodes[a.id],b)return a.iterate(function(b){return function(c){return delete b.selected_nodes[a.id],!0}}(this))}else if(this.selected_single_node&&a.element===this.selected_single_node.element)return this.selected_single_node=null},a.prototype.addToSelection=function(a){return a.id?this.selected_nodes[a.id]=!0:this.selected_single_node=a},a}(),b.exports=d},{}],
10:[function(a,b,c){var d,e=[].slice;d=function(){function a(a,b){this.$el=$(a),this.options=$.extend({},this.defaults,b)}return a.prototype.defaults={},a.prototype.destroy=function(){return this._deinit()},a.prototype._init=function(){return null},a.prototype._deinit=function(){return null},a.register=function(b,c){var d,f,g,h,i;return h=function(){return"simple_widget_"+c},i=function(b,c){var d;return d=$.data(b,c),d&&d instanceof a?d:null},f=function(a,c){var d,e,f,g,j,k;for(d=h(),g=0,j=a.length;j>g;g++)e=a[g],f=i(e,d),f||(k=new b(e,c),$.data(e,d)||$.data(e,d,k),k._init());return a},g=function(a){var b,c,d,e,f,g;for(b=h(),f=[],d=0,e=a.length;e>d;d++)c=a[d],g=i(c,b),g&&g.destroy(),f.push($.removeData(c,b));return f},d=function(b,c,d){var e,f,g,i,j,k;for(i=null,f=0,g=b.length;g>f;f++)e=b[f],j=$.data(e,h()),j&&j instanceof a&&(k=j[c],k&&"function"==typeof k&&(i=k.apply(j,d)));return i},$.fn[c]=function(){var a,c,h,i,j;return h=arguments[0],c=2<=arguments.length?e.call(arguments,1):[],a=this,void 0===h||"object"==typeof h?(j=h,f(a,j)):"string"==typeof h&&"_"!==h[0]?(i=h,"destroy"===i?g(a):"get_widget_class"===i?b:d(a,i,c)):void 0}},a}(),b.exports=d},{}],11:[function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=function(a,b){function c(){this.constructor=a}for(var d in b)v.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},v={}.hasOwnProperty;q=a("./version"),d=a("./drag_and_drop_handler"),e=a("./elements_renderer"),h=a("./key_handler"),i=a("./mouse.widget"),m=a("./save_state_handler"),n=a("./scroll_handler"),o=a("./select_node_handler"),p=a("./simple.widget"),s=a("./node"),j=s.Node,l=s.Position,t=a("./util"),r=a("./node_element"),k=r.NodeElement,f=r.FolderElement,g=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return u(b,a),b.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:"&#x25ba;",openedIcon:"&#x25bc;",slide:!0,nodeClass:j,dataFilter:null,keyboardSupport:!0,openFolderDelay:500},b.prototype.toggle=function(a,b){return null==b&&(b=null),null===b&&(b=this.options.slide),a.is_open?this.closeNode(a,b):this.openNode(a,b)},b.prototype.getTree=function(){return this.tree},b.prototype.selectNode=function(a){return this._selectNode(a,!1)},b.prototype._selectNode=function(a,b){var c,d,e,f;if(null==b&&(b=!1),this.select_node_handler){if(c=function(b){return function(){return b.options.onCanSelectNode?b.options.selectable&&b.options.onCanSelectNode(a):b.options.selectable}}(this),e=function(b){return function(){var c;return c=a.parent,c&&c.parent&&!c.is_open?b.openNode(c,!1):void 0}}(this),f=function(a){return function(){return a.options.saveState?a.save_state_handler.saveState():void 0}}(this),!a)return this._deselectCurrentNode(),void f();if(c())return this.select_node_handler.isNodeSelected(a)?b&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:a})):(d=this.getSelectedNode(),this._deselectCurrentNode(),this.addToSelection(a),this._triggerEvent("tree.select",{node:a,deselected_node:d}),e()),f()}},b.prototype.getSelectedNode=function(){return this.select_node_handler?this.select_node_handler.getSelectedNode():null},b.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},b.prototype.loadData=function(a,b){return this._loadData(a,b)},b.prototype.loadDataFromUrl=function(a,b,c){return"string"!==$.type(a)&&(c=b,b=a,a=null),this._loadDataFromUrl(a,b,c)},b.prototype.reload=function(){return this.loadDataFromUrl()},b.prototype._loadDataFromUrl=function(a,b,c){var d,e,f,g,h,i;if(d=null,e=function(a){return function(){return d=b?$(b.element):a.element,d.addClass("jqtree-loading")}}(this),i=function(){return d?d.removeClass("jqtree-loading"):void 0},h=function(){return"string"===$.type(a)&&(a={url:a}),a.method?void 0:a.method="get"},f=function(a){return function(d){return i(),a._loadData(d,b),c&&$.isFunction(c)?c():void 0}}(this),g=function(b){return function(){return h(),$.ajax({url:a.url,data:a.data,type:a.method.toUpperCase(),cache:!1,dataType:"json",success:function(a){var c;return c=$.isArray(a)||"object"==typeof a?a:$.parseJSON(a),b.options.dataFilter&&(c=b.options.dataFilter(c)),f(c)},error:function(a){return i(),b.options.onLoadFailed?b.options.onLoadFailed(a):void 0}})}}(this),a||(a=this._getDataUrlInfo(b)),e(),a){if(!$.isArray(a))return g();f(a)}else i()},b.prototype._loadData=function(a,b){var c,d;return null==b&&(b=null),c=function(a){return function(){var c,d,e,f;if(a.select_node_handler)for(f=a.select_node_handler.getSelectedNodesUnder(b),c=0,d=f.length;d>c;c++)e=f[c],a.select_node_handler.removeFromSelection(e);return null}}(this),d=function(c){return function(){return b.loadFromData(a),b.load_on_demand=!1,b.is_loading=!1,c._refreshElements(b)}}(this),a?(this._triggerEvent("tree.load_data",{tree_data:a}),b?(c(),d()):this._initTree(a),this.isDragging()?this.dnd_handler.refresh():void 0):void 0},b.prototype.getNodeById=function(a){return this.tree.getNodeById(a)},b.prototype.getNodeByName=function(a){return this.tree.getNodeByName(a)},b.prototype.getNodesByProperty=function(a,b){return this.tree.getNodesByProperty(a,b)},b.prototype.openNode=function(a,b){return null==b&&(b=null),null===b&&(b=this.options.slide),this._openNode(a,b)},b.prototype._openNode=function(a,b,c){var d,e;if(null==b&&(b=!0),d=function(a){return function(b,c,d){var e;return e=new f(b,a),e.open(d,c)}}(this),a.isFolder()){if(a.load_on_demand)return this._loadFolderOnDemand(a,b,c);for(e=a.parent;e;)e.parent&&d(e,!1,null),e=e.parent;return d(a,b,c),this._saveState()}},b.prototype._loadFolderOnDemand=function(a,b,c){return null==b&&(b=!0),a.is_loading=!0,this._loadDataFromUrl(null,a,function(d){return function(){return d._openNode(a,b,c)}}(this))},b.prototype.closeNode=function(a,b){return null==b&&(b=null),null===b&&(b=this.options.slide),a.isFolder()?(new f(a,this).close(b),this._saveState()):void 0},b.prototype.isDragging=function(){return this.dnd_handler?this.dnd_handler.is_dragging:!1},b.prototype.refreshHitAreas=function(){return this.dnd_handler.refresh()},b.prototype.addNodeAfter=function(a,b){var c;return c=b.addAfter(a),this._refreshElements(b.parent),c},b.prototype.addNodeBefore=function(a,b){var c;return c=b.addBefore(a),this._refreshElements(b.parent),c},b.prototype.addParentNode=function(a,b){var c;return c=b.addParent(a),this._refreshElements(c.parent),c},b.prototype.removeNode=function(a){var b;return b=a.parent,b?(this.select_node_handler.removeFromSelection(a,!0),a.remove(),this._refreshElements(b)):void 0},b.prototype.appendNode=function(a,b){var c;return b=b||this.tree,c=b.append(a),this._refreshElements(b),c},b.prototype.prependNode=function(a,b){var c;return b||(b=this.tree),c=b.prepend(a),this._refreshElements(b),c},b.prototype.updateNode=function(a,b){var c;return c=b.id&&b.id!==a.id,c&&this.tree.removeNodeFromIndex(a),a.setData(b),c&&this.tree.addNodeToIndex(a),this.renderer.renderFromNode(a),this._selectCurrentNode()},b.prototype.moveNode=function(a,b,c){var d;return d=l.nameToIndex(c),this.tree.moveNode(a,b,d),this._refreshElements()},b.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},b.prototype.addToSelection=function(a){return a?(this.select_node_handler.addToSelection(a),this._getNodeElementForNode(a).select(),this._saveState()):void 0},b.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()},b.prototype.isNodeSelected=function(a){return this.select_node_handler.isNodeSelected(a)},b.prototype.removeFromSelection=function(a){return this.select_node_handler.removeFromSelection(a),this._getNodeElementForNode(a).deselect(),this._saveState()},b.prototype.scrollToNode=function(a){var b,c;return b=$(a.element),c=b.offset().top-this.$el.offset().top,this.scroll_handler.scrollTo(c)},b.prototype.getState=function(){return this.save_state_handler.getState()},b.prototype.setState=function(a){return this.save_state_handler.setInitialState(a),this._refreshElements()},b.prototype.setOption=function(a,b){return this.options[a]=b},b.prototype.moveDown=function(){return this.key_handler?this.key_handler.moveDown():void 0},b.prototype.moveUp=function(){return this.key_handler?this.key_handler.moveUp():void 0},b.prototype.getVersion=function(){return q},b.prototype._init=function(){return b.__super__._init.call(this),this.element=this.$el,this.mouse_delay=300,this.is_initialized=!1,this.renderer=new e(this),null!=m?this.save_state_handler=new m(this):this.options.saveState=!1,null!=o&&(this.select_node_handler=new o(this)),null!=d?this.dnd_handler=new d(this):this.options.dragAndDrop=!1,null!=n&&(this.scroll_handler=new n(this)),null!=h&&null!=o&&(this.key_handler=new h(this)),this._initData(),this.element.click($.proxy(this._click,this)),this.element.dblclick($.proxy(this._dblclick,this)),this.options.useContextMenu?this.element.bind("contextmenu",$.proxy(this._contextmenu,this)):void 0},b.prototype._deinit=function(){return this.element.empty(),this.element.unbind(),this.key_handler&&this.key_handler.deinit(),this.tree=null,b.__super__._deinit.call(this)},b.prototype._initData=function(){return this.options.data?this._loadData(this.options.data):this._loadDataFromUrl(this._getDataUrlInfo())},b.prototype._getDataUrlInfo=function(a){var b,c;return b=this.options.dataUrl||this.element.data("url"),c=function(c){return function(){var d,e,f;return f={url:b},a&&a.id?(d={node:a.id},f.data=d):(e=c._getNodeIdToBeSelected(),e&&(d={selected_node:e},f.data=d)),f}}(this),$.isFunction(b)?b(a):"string"===$.type(b)?c():b},b.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?this.save_state_handler.getNodeIdToBeSelected():null},b.prototype._initTree=function(a){var b;return this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.select_node_handler&&this.select_node_handler.clear(),this.tree.loadFromData(a),b=this._setInitialState(),this._refreshElements(),b&&this._setInitialStateOnDemand(),this.is_initialized?void 0:(this.is_initialized=!0,this._triggerEvent("tree.init"))},b.prototype._setInitialState=function(){var a,b,c,d,e;return e=function(a){return function(){var b,c;return a.options.saveState&&a.save_state_handler?(c=a.save_state_handler.getStateFromStorage(),c?(b=a.save_state_handler.setInitialState(c),[!0,b]):[!1,!1]):[!1,!1]}}(this),a=function(a){return function(){var b,c;return a.options.autoOpen===!1?!1:(b=a._getAutoOpenMaxLevel(),c=!1,a.tree.iterate(function(a,d){return a.load_on_demand?(c=!0,!1):a.hasChildren()?(a.is_open=!0,d!==b):!1}),c)}}(this),d=e(),b=d[0],c=d[1],b||(c=a()),c},b.prototype._setInitialStateOnDemand=function(){var a,b;return b=function(a){return function(){var b;return a.options.saveState&&a.save_state_handler?(b=a.save_state_handler.getStateFromStorage(),b?(a.save_state_handler.setInitialStateOnDemand(b),!0):!1):!1}}(this),a=function(a){return function(){var b,c,d,e;return d=a._getAutoOpenMaxLevel(),c=[],b=function(b){return a._openNode(b,!1,e)},(e=function(){return a.tree.iterate(function(c,e){return c.load_on_demand?(c.is_loading||b(c),!1):(a._openNode(c,!1),e!==d)})})()}}(this),b()?void 0:a()},b.prototype._getAutoOpenMaxLevel=function(){return this.options.autoOpen===!0?-1:parseInt(this.options.autoOpen)},b.prototype._refreshElements=function(a){return null==a&&(a=null),this.renderer.render(a),this._triggerEvent("tree.refresh")},b.prototype._click=function(a){var b,c,d;if(b=this._getClickTarget(a.target)){if("button"===b.type)return this.toggle(b.node,this.options.slide),a.preventDefault(),a.stopPropagation();if("label"===b.type&&(d=b.node,c=this._triggerEvent("tree.click",{node:d,click_event:a}),!c.isDefaultPrevented()))return this._selectNode(d,!0)}},b.prototype._dblclick=function(a){var b;return b=this._getClickTarget(a.target),b&&"label"===b.type?this._triggerEvent("tree.dblclick",{node:b.node,click_event:a}):void 0},b.prototype._getClickTarget=function(a){var b,c,d,e;if(d=$(a),b=d.closest(".jqtree-toggler"),b.length){if(e=this._getNode(b))return{type:"button",node:e}}else if(c=d.closest(".jqtree-element"),c.length&&(e=this._getNode(c)))return{type:"label",node:e};return null},b.prototype._getNode=function(a){var b;return b=a.closest("li.jqtree_common"),0===b.length?null:b.data("node")},b.prototype._getNodeElementForNode=function(a){return a.isFolder()?new f(a,this):new k(a,this)},b.prototype._getNodeElement=function(a){var b;return b=this._getNode(a),b?this._getNodeElementForNode(b):null},b.prototype._contextmenu=function(a){var b,c;return b=$(a.target).closest("ul.jqtree-tree .jqtree-element"),b.length&&(c=this._getNode(b))?(a.preventDefault(),a.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:c,click_event:a}),!1):void 0},b.prototype._saveState=function(){return this.options.saveState?this.save_state_handler.saveState():void 0},b.prototype._mouseCapture=function(a){return this.options.dragAndDrop?this.dnd_handler.mouseCapture(a):!1},b.prototype._mouseStart=function(a){return this.options.dragAndDrop?this.dnd_handler.mouseStart(a):!1},b.prototype._mouseDrag=function(a){var b;return this.options.dragAndDrop?(b=this.dnd_handler.mouseDrag(a),this.scroll_handler&&this.scroll_handler.checkScrolling(),b):!1},b.prototype._mouseStop=function(a){return this.options.dragAndDrop?this.dnd_handler.mouseStop(a):!1},b.prototype._triggerEvent=function(a,b){var c;return c=$.Event(a),$.extend(c,b),this.element.trigger(c),c},b.prototype.testGenerateHitAreas=function(a){return this.dnd_handler.current_item=this._getNodeElementForNode(a),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},b.prototype._selectCurrentNode=function(){var a;return a=this.getSelectedNode(),a&&(r=this._getNodeElementForNode(a))?r.select():void 0},b.prototype._deselectCurrentNode=function(){var a;return a=this.getSelectedNode(),a?this.removeFromSelection(a):void 0},b}(i),g.getModule=function(a){var b;return b={node:s,util:t},b[a]},p.register(g,"tree")},{"./drag_and_drop_handler":1,"./elements_renderer":2,"./key_handler":3,"./mouse.widget":4,"./node":5,"./node_element":6,"./save_state_handler":7,"./scroll_handler":8,"./select_node_handler":9,"./simple.widget":10,"./util":12,"./version":13}],12:[function(a,b,c){var d,e,f,g;d=function(a,b){var c,d,e,f;for(c=d=0,e=a.length;e>d;c=++d)if(f=a[c],f===b)return c;return-1},f=function(a,b){return a.indexOf?a.indexOf(b):d(a,b)},g=function(a){return"number"==typeof a&&a%1===0},e=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},b.exports={_indexOf:d,html_escape:e,indexOf:f,isInt:g}},{}],13:[function(a,b,c){b.exports="1.0.0"},{}]},{},[11]);
//# sourceMappingURL=plugins.min.js.map